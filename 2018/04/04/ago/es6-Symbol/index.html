<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <title>es6-Symbol | Aymfx&#39;s Blog</title>
  
  <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1408911_ujc2i49ntb.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>
  <body>
    <div class='container'>
      <header id="header">
  <section class='header-main'>
    <div class='outer'>
        <a href="/" class="logo">Aymfx's Blog</a> 
      <nav class="navbar">
        
        <a href="/" class="menu-item-link">首页</a>
        
        <a href="/archives" class="menu-item-link">归档</a>
        
        <a href="/tags" class="menu-item-link">标签</a>
        
        <a href="/about" class="menu-item-link">关于我</a>
        
        <a href="/photos" class="menu-item-link">相册</a>
        
        <a href="https://github.com/aymfx" class="menu-item-link">交友</a>
        
      </nav>
    </div>
  </section>
</header>
    <main class="main">
      <div class='post-detail'>
    <div id="toc" class='left'>
    <h4>
        文章目录
    </h4>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#symbo"><span class="toc-text">symbo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-使用方式"><span class="toc-text">Symbol 使用方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-共享体系"><span class="toc-text">Symbol 共享体系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-的类型强制转换"><span class="toc-text">Symbol 的类型强制转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-的检索属性"><span class="toc-text">Symbol 的检索属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#通过-well-known-Symbol-暴露内部操作"><span class="toc-text">通过 well-known Symbol 暴露内部操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#迭代-symbols"><span class="toc-text">迭代 symbols</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式-symbols"><span class="toc-text">正则表达式 symbols</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#其他-symbols"><span class="toc-text">其他 symbols</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-hasInstance-方法"><span class="toc-text">Symbol.hasInstance 方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-isConcatSpreadable-属性"><span class="toc-text">Symbol.isConcatSpreadable 属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-match-Symbol-replace-Symbol-search-Symbol-split"><span class="toc-text">Symbol.match,Symbol.replace,Symbol.search,Symbol.split</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-toPrimitive-指将被调用的指定函数值的属性转换为相对应的原始值"><span class="toc-text">Symbol.toPrimitive 指将被调用的指定函数值的属性转换为相对应的原始值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-toStringTag"><span class="toc-text">Symbol.toStringTag</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Symbol-unscopables-指用于指定对象值，其对象自身和继承的从关联对象的-with-环境绑定中排除的属性名称。"><span class="toc-text">Symbol.unscopables 指用于指定对象值，其对象自身和继承的从关联对象的 with 环境绑定中排除的属性名称。</span></a></li></ol></li></ol>
</div>
    <article class="post-detail animated slideInDown right">
        <div class="post-title">
          <h2 class="title">es6-Symbol</h2>
        </div>
         <div class="post-meta"> 
          <i class='iconfont iconriqi'></i>
          <span class="post-time">2018-04-04</span>
        </div>
        <div class="article-container">
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote>
<p>突然就断网了，hhhh</p>
</blockquote>
<blockquote>
<p>我的博客地址 ：<a href="http://www.aymfx.cn/" target="_blank" rel="noopener">http://www.aymfx.cn/</a></p>
</blockquote>
 <a id="more"></a>   

<h4 id="symbo"><a href="#symbo" class="headerlink" title="symbo"></a>symbo</h4><blockquote>
<p>这是新的原始类型，一般是用于非字符串属性名称，利用其特性创建私有的变量</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var firstname = Symbol(),</span><br><span class="line">    person = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">person[firstname] = &quot;ly&quot;;</span><br><span class="line"></span><br><span class="line">console.log(person[firstname]); //ly</span><br></pre></td></tr></table></figure>

<blockquote>
<p>添加描述</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var firstname = Symbol(&apos;liuyang&apos;),</span><br><span class="line">    person = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">person[firstname] = &quot;ly&quot;;</span><br><span class="line"></span><br><span class="line">console.log(&apos;liuyang&apos; in person); //false</span><br><span class="line">console.log(person[firstname]); //ly</span><br><span class="line"></span><br><span class="line">console.log(firstname) //Symbol(liuyang)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以通过 typeof 来识别</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let symbol = Symbol(&quot;test&quot;);</span><br><span class="line"></span><br><span class="line">console.log(typeof symbol)  //symbol</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-使用方式"><a href="#Symbol-使用方式" class="headerlink" title="Symbol 使用方式"></a>Symbol 使用方式</h4><blockquote>
<p>可用于计算对象字面量属性名，Object.defineProperty()方法和 Object.defineProperties()方法的调用过程中</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">let firstname = Symbol(&quot;first name&quot;)</span><br><span class="line"></span><br><span class="line">//可用于计算对象字面量属性名</span><br><span class="line"></span><br><span class="line">let person = &#123;</span><br><span class="line">    [firstname]:&apos;nicholas&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//将属性设置为只读</span><br><span class="line"></span><br><span class="line">Object.defineProperty(person,firstname,&#123;writeable:false&#125;);</span><br><span class="line"></span><br><span class="line">let lastName = Symbol(&apos;last name&apos;);</span><br><span class="line"></span><br><span class="line">Object.defineProperties(person,&#123;</span><br><span class="line">    [lastName]:&#123;</span><br><span class="line">        value:&apos;zhaosi&apos;,</span><br><span class="line">        writeable:false</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">console.log(person[firstname],person[lastName]);  //nicholas zhaosi</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-共享体系"><a href="#Symbol-共享体系" class="headerlink" title="Symbol 共享体系"></a>Symbol 共享体系</h4><blockquote>
<p>当你的应用有两种不同的对象类型，但是你希望他们共享一个 Symbol,你可以使用 Symbol 注册表，通过 for 方法来操作</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">let uid = Symbol.for(&apos;i am Object property&apos;);</span><br><span class="line"></span><br><span class="line">let obj1 = &#123;</span><br><span class="line">    [uid] :&apos;ly&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let uid2 = Symbol.for(&apos;i am Object property&apos;);</span><br><span class="line"></span><br><span class="line">let obj2 = &#123;</span><br><span class="line">    [uid2] : &apos;i am Object property&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(uid===uid2); true</span><br><span class="line"></span><br><span class="line">console.log(obj1[uid],obj2[uid2]); ly i am Object property</span><br><span class="line"></span><br><span class="line">console.log(uid2) Symbol(i am Object property)</span><br><span class="line"></span><br><span class="line">//通过Symbol.keyFor(),来查找Symbol的键</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(Symbol.keyFor(uid),Symbol.keyFor(uid2))  //i am Object property i am Object property</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let uid3 = Symbol(&apos;uid3&apos;)</span><br><span class="line"></span><br><span class="line">console.log(Symbol.keyFor(uid3))  //undefined   ,因为没使用for方法进行注册</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-的类型强制转换"><a href="#Symbol-的类型强制转换" class="headerlink" title="Symbol 的类型强制转换"></a>Symbol 的类型强制转换</h4><blockquote>
<p>似乎 Symbol 不能与其他的类型发生强制转换的操作，我们只能用 String 惊醒字符串的输出</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">let uid = Symbol(&apos;useful message&apos;),</span><br><span class="line">    desc = String(uid);</span><br><span class="line"></span><br><span class="line">console.log(desc); //Symbol(useful message)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//不能进行字符串的拼接</span><br><span class="line">let uid = Symbol(&apos;useful message&apos;);</span><br><span class="line"></span><br><span class="line">let string = uid+&apos;!&apos;  //报错  Cannot convert a Symbol value to a string</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//不能进行运算</span><br><span class="line"></span><br><span class="line">let uid = Symbol(&apos;useful message&apos;);</span><br><span class="line"></span><br><span class="line">let string = uid/1; //Cannot convert a Symbol value to a number</span><br><span class="line"></span><br><span class="line">//逻辑操作符可以,等价为布尔值true</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let uid = Symbol(&apos;useful message&apos;);</span><br><span class="line"></span><br><span class="line">let s = uid ? &apos;对的&apos;: &apos;错的&apos;;</span><br><span class="line"></span><br><span class="line">console.log(s) //对的</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-的检索属性"><a href="#Symbol-的检索属性" class="headerlink" title="Symbol 的检索属性"></a>Symbol 的检索属性</h4><blockquote>
<p>Object.keys()方法，将会返回的是可枚举的属性名,Object.getOwnPropertyNames()方法将会枚举的可举性，将会全部返回,但是他们不支持枚举 Symbol 属性,es6 提供了 Object.getOwnPropertySymbols()方法枚举包含的 Symbol 的自有属性数组</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let uid = Symbol(&apos;a&apos;),</span><br><span class="line">    uid2 = Symbol(&apos;a2&apos;),</span><br><span class="line">    object = &#123;</span><br><span class="line">        [uid]:&apos;12345&apos;,</span><br><span class="line">        [uid2]:&apos;35487&apos;,</span><br><span class="line">        &apos;hh&apos;:&quot;我应该排除在外的&quot;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">let symbols = Object.getOwnPropertySymbols(object);</span><br><span class="line"></span><br><span class="line">console.log(symbols); // [Symbol(a), Symbol(a2)]</span><br><span class="line">console.log(symbols[0]);// Symbol(a)</span><br><span class="line">console.log(object[symbols[0]]);  //12345</span><br></pre></td></tr></table></figure>

<h4 id="通过-well-known-Symbol-暴露内部操作"><a href="#通过-well-known-Symbol-暴露内部操作" class="headerlink" title="通过 well-known Symbol 暴露内部操作"></a>通过 well-known Symbol 暴露内部操作</h4><blockquote>
<p>除了自己创建的 symbol，JavaScript 还内建了一些在 ECMAScript 5 之前没有暴露给开发者的 symbol，它们代表了内部语言行为。它们可以使用以下属性访问：</p>
</blockquote>
<h4 id="迭代-symbols"><a href="#迭代-symbols" class="headerlink" title="迭代 symbols"></a>迭代 symbols</h4><ul>
<li>Symbol.iterator</li>
</ul>
<blockquote>
<p>一个返回一个对象默认迭代器的方法。使用 for…of。</p>
</blockquote>
<ul>
<li>Symbol.asyncIterator</li>
</ul>
<blockquote>
<p>一个返回对象默认的异步迭代器的方法。使用 for await of。</p>
</blockquote>
<h4 id="正则表达式-symbols"><a href="#正则表达式-symbols" class="headerlink" title="正则表达式 symbols"></a>正则表达式 symbols</h4><ul>
<li>Symbol.match</li>
</ul>
<blockquote>
<p>一个用于对字符串进行匹配的方法，也用于确定一个对象是否可以作为正则表达式使用。使用 String.prototype.match().</p>
</blockquote>
<ul>
<li>Symbol.replace</li>
</ul>
<blockquote>
<p>一个替换匹配字符串的子串的方法. 使用 String.prototype.replace().</p>
</blockquote>
<ul>
<li>Symbol.search</li>
</ul>
<blockquote>
<p>一个返回一个字符串中与正则表达式相匹配的索引的方法。使用 String.prototype.search().</p>
</blockquote>
<ul>
<li>Symbol.split</li>
</ul>
<blockquote>
<p>一个在匹配正则表达式的索引处拆分一个字符串的方法.。使用 String.prototype.split().</p>
</blockquote>
<h4 id="其他-symbols"><a href="#其他-symbols" class="headerlink" title="其他 symbols"></a>其他 symbols</h4><ul>
<li>Symbol.hasInstance</li>
</ul>
<blockquote>
<p>一个确定一个构造器对象识别的对象是否为它的实例的方法。使用<br>instanceof.</p>
</blockquote>
<ul>
<li>Symbol.isConcatSpreadable</li>
</ul>
<blockquote>
<p>一个布尔值，表明一个对象是否应该 flattened 为它的数组元素。使用 Array.prototype.concat().</p>
</blockquote>
<ul>
<li>Symbol.unscopables</li>
</ul>
<blockquote>
<p>拥有和继承属性名的一个对象的值被排除在与环境绑定的相关对象外。</p>
</blockquote>
<ul>
<li>Symbol.species</li>
</ul>
<blockquote>
<p>一个用于创建派生对象的构造器函数。</p>
</blockquote>
<ul>
<li>Symbol.toPrimitive</li>
</ul>
<blockquote>
<p>一个将对象转化为基本数据类型的方法。</p>
</blockquote>
<blockquote>
<p>Symbol.toStringTag</p>
</blockquote>
<ul>
<li>用于对象的默认描述的字符串值。使用 Object.prototype.toString().</li>
</ul>
<h4 id="Symbol-hasInstance-方法"><a href="#Symbol-hasInstance-方法" class="headerlink" title="Symbol.hasInstance 方法"></a>Symbol.hasInstance 方法</h4><blockquote>
<p>一个确定一个构造器对象识别的对象是否为它的实例的方法</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">obj = new Array();</span><br><span class="line"></span><br><span class="line">console.log(obj instanceof Array); //true</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(Array[Symbol.hasInstance](obj)) //VM187:5 true</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我可以用它定义一个无实例的函数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function myObject ()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Object.defineProperty(myObject,Symbol.hasInstance,&#123;</span><br><span class="line">    value:function(v)&#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let obj = new myObject();</span><br><span class="line"></span><br><span class="line">console.log(obj instanceof myObject); //false</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们可以定制自己的实例，通过这种方式，可以修改内建对象但是尽量不要这么做，应该修改自己创建的构造函数</p>
</blockquote>
<h4 id="Symbol-isConcatSpreadable-属性"><a href="#Symbol-isConcatSpreadable-属性" class="headerlink" title="Symbol.isConcatSpreadable 属性"></a>Symbol.isConcatSpreadable 属性</h4><blockquote>
<p>Symbol.isConcatSpreadable 属性是一个布尔值，如果属性为 true，则表示对象有 length 属性和数字键,这样它就可以使用数组的 concat()方法了</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    0:&apos;a&apos;,</span><br><span class="line">    1:&apos;b&apos;,</span><br><span class="line">    length:2,</span><br><span class="line">    [Symbol.isConcatSpreadable]:true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let obj2 = &#123;</span><br><span class="line">    1:&apos;a&apos;,</span><br><span class="line">    s:&apos;b&apos;,</span><br><span class="line">    length:2,</span><br><span class="line">    [Symbol.isConcatSpreadable]:true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let message = [&apos;hi&apos;].concat(obj);</span><br><span class="line"></span><br><span class="line">console.log(message);</span><br><span class="line"></span><br><span class="line">let message2 = [&apos;hi&apos;].concat(obj2);</span><br><span class="line"></span><br><span class="line">console.log(message2);</span><br></pre></td></tr></table></figure>

<p><img src="http://upload-images.jianshu.io/upload_images/10843623-a176dfab66efd797.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.png"></p>
<blockquote>
<p>说明他会寻找数字下标，找不到就设置为空，并且从零开始</p>
</blockquote>
<h4 id="Symbol-match-Symbol-replace-Symbol-search-Symbol-split"><a href="#Symbol-match-Symbol-replace-Symbol-search-Symbol-split" class="headerlink" title="Symbol.match,Symbol.replace,Symbol.search,Symbol.split"></a>Symbol.match,Symbol.replace,Symbol.search,Symbol.split</h4><ul>
<li>match()</li>
</ul>
<blockquote>
<p>match() 方法可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。</p>
</blockquote>
<ul>
<li>replace()</li>
</ul>
<blockquote>
<p>replace() 方法用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。</p>
</blockquote>
<ul>
<li>split()</li>
</ul>
<blockquote>
<p>用于把一个字符串分割成字符串数组</p>
</blockquote>
<ul>
<li>search()</li>
</ul>
<blockquote>
<p>用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串。</p>
</blockquote>
<blockquote>
<p>以上方法时 es5d 的正则表达式的字符串匹配，但是无法使用自定义的对象来替代正则表达式进行正则匹配，es6 这些方法就可以这么操作，我们来看他们的定义</p>
</blockquote>
<ul>
<li>Symbol.match 接受一个字符串的参数，如果匹配成功则返回匹配成功的数组，否则返回 null</li>
<li>Symbol.replace 接受一个字符串类型的参数和一个替换字符串，最终返回一个字符串</li>
<li>Symbol.search 接受一个字符串参数，如果匹配到内容，就返回数组的位置，否则返回-1</li>
<li>Symbol.split 接受一个字符串参数，根据内容匹配将字符串分解，并将返回分解后的数组</li>
</ul>
<blockquote>
<p>看看栗子</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">let hasLengthOf10 = &#123;</span><br><span class="line">    [Symbol.match]:function(value) &#123;</span><br><span class="line">        return value.length === 10 ? [value]:null</span><br><span class="line">    &#125;,</span><br><span class="line">    [Symbol.replace]:function(value, replace) &#123;</span><br><span class="line">        return value.length === 10 ? replace:value</span><br><span class="line">    &#125;,</span><br><span class="line">    [Symbol.search]:function(value) &#123;</span><br><span class="line">        return value.length === 10 ? 0:-1</span><br><span class="line">    &#125;,</span><br><span class="line">    [Symbol.split]:function(value) &#123;</span><br><span class="line">        return value.length === 10 ? [ , ]:[value]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let m1 = &apos;Hello world&apos; //11</span><br><span class="line">let m2 = &apos;Hello john&apos;  //10</span><br><span class="line"></span><br><span class="line">console.log(m1.replace(hasLengthOf10)); //[empty]</span><br><span class="line">console.log(m2.replace(hasLengthOf10)); //undefined</span><br><span class="line"></span><br><span class="line">console.log(m1.match(hasLengthOf10));//null</span><br><span class="line">console.log(m2.match(hasLengthOf10));//[&quot;Hello john&quot;]</span><br><span class="line"></span><br><span class="line">console.log(m1.search(hasLengthOf10)); //-1</span><br><span class="line">console.log(m2.search(hasLengthOf10)); //0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(m1.split(hasLengthOf10));[&quot;Hello world&quot;]</span><br><span class="line">console.log(m2.split(hasLengthOf10)); //[empty]</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-toPrimitive-指将被调用的指定函数值的属性转换为相对应的原始值"><a href="#Symbol-toPrimitive-指将被调用的指定函数值的属性转换为相对应的原始值" class="headerlink" title="Symbol.toPrimitive 指将被调用的指定函数值的属性转换为相对应的原始值"></a>Symbol.toPrimitive 指将被调用的指定函数值的属性转换为相对应的原始值</h4><blockquote>
<p>在 Symbol.toPrimitive 属性(用作函数值)的帮助下，一个对象可被转换为原始值。该函数由字符串参数 hint 调用，目的是指定原始值转换结果的首选类型。 hint 参数可以是”number”、”string” 和 “default” 中的一种。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//话不多说看栗子</span><br><span class="line"></span><br><span class="line">function Temp(degress)&#123;</span><br><span class="line">    this.degress = degress</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Temp.prototype[Symbol.toPrimitive] = function(hint)&#123;</span><br><span class="line">    switch(hint)&#123;</span><br><span class="line">        case &quot;string&quot;:</span><br><span class="line">            return this.degress +&quot;\u00b0&quot;;  //degress symbol</span><br><span class="line"></span><br><span class="line">        case &quot;number&quot;:</span><br><span class="line">            return this.degress;</span><br><span class="line">        case &quot;default&quot; :</span><br><span class="line">            return this.degress+&apos;ly&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var t = new Temp(8);</span><br><span class="line"></span><br><span class="line">console.log(t+&apos;5555&apos;) //8ly5555</span><br><span class="line">console.log(t/&apos;2&apos;) //4</span><br><span class="line">console.log(String(t)) //8°</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-toStringTag"><a href="#Symbol-toStringTag" class="headerlink" title="Symbol.toStringTag"></a>Symbol.toStringTag</h4><blockquote>
<p>Symbol.toStringTag 是一个内置 symbol，它通常作为对象的属性键使用，对应的属性值应该为字符串类型，这个字符串用来表示该对象的自定义类型标签，通常只有内置的 Object.prototype.toString() 方法会去读取这个标签并把它包含在自己的返回值里。</p>
</blockquote>
<blockquote>
<p>我们识别数组还是对象，一般习惯用 toString 方法来实现，例如</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isArray(arr)&#123;</span><br><span class="line">    return Object.prototype.toString.call(arr) === &apos;[object Array]&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>现在我们可以重写一个对象的类型</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function Person(name)&#123;</span><br><span class="line">    this.name =name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype[Symbol.toStringTag] = &apos;Person&apos;;</span><br><span class="line"></span><br><span class="line">let people = new Person(&apos;ly&apos;);</span><br><span class="line"></span><br><span class="line">console.log(Object.prototype.toString.call(people)); //[object Person]</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-unscopables-指用于指定对象值，其对象自身和继承的从关联对象的-with-环境绑定中排除的属性名称。"><a href="#Symbol-unscopables-指用于指定对象值，其对象自身和继承的从关联对象的-with-环境绑定中排除的属性名称。" class="headerlink" title="Symbol.unscopables 指用于指定对象值，其对象自身和继承的从关联对象的 with 环境绑定中排除的属性名称。"></a>Symbol.unscopables 指用于指定对象值，其对象自身和继承的从关联对象的 with 环境绑定中排除的属性名称。</h4><blockquote>
<p>可以在任何对象上定义 @@unscopables symbol (Symbol.unscopables)，用于排除属性名称并与 with 环境绑定在一起作为词法变量公开。 请注意，如果使用 Strict mode，语句将不可用，并且可能也不需要 symbol。</p>
</blockquote>
<blockquote>
<p>在 unscopables 对象上设置属性为 true，将使其 unscopable 并且因此该属性也将不会在词法环境变量中出现。 如果设置属性为 false ，则将使其可 scopable 并且该属性会出现在词法环境变量中。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">我们在使用with时，如果用了对象属性作为变量则会报错，例如(es6数组存在values方法)</span><br><span class="line"></span><br><span class="line">let values = [1,2],colors=[&apos;w&apos;, &apos;y&apos;, &apos;k&apos;, &apos;o&apos;, &apos;p&apos;],color=&apos;blue&apos;;</span><br><span class="line"></span><br><span class="line">console.log(colors.values());</span><br><span class="line"></span><br><span class="line">with(colors)&#123;</span><br><span class="line">    push(color)</span><br><span class="line">    push(...values)</span><br><span class="line">    console.log(values);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(colors); //[&quot;red&quot;, &quot;blue&quot;, 1, 2]  //emmmm,没报错的原因values()方法还没加上去</span><br><span class="line"></span><br><span class="line">//报错了就用这种方式,他是将词法排除在这个with环境中</span><br><span class="line"></span><br><span class="line">Array.prototype[Symbol.unscopables] = Object.assign(Object.create(null),&#123;</span><br><span class="line"> copyWith:true,</span><br><span class="line"> entries:true,</span><br><span class="line"> fill:true,</span><br><span class="line"> find:true,</span><br><span class="line"> findIndex:true,</span><br><span class="line"> keys:true,</span><br><span class="line"> values:&apos;true&apos;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="http://upload-images.jianshu.io/upload_images/10843623-2c5109c4f8e58e1c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.png"></p>
 
        </div> 
      </article> 
</div>



    </main>
    </div>
  </body>
</html>