import{_ as a,c as s,o as l,N as o}from"./chunks/framework.1f285265.js";const b=JSON.parse('{"title":"linux安装MongoDB","description":"","frontmatter":{"title":"linux安装MongoDB","tags":["node"],"date":"2018-07-01T15:01:15.000Z"},"headers":[],"relativePath":"posts/前端/以前/linux安装MongoDB.md"}'),n={name:"posts/前端/以前/linux安装MongoDB.md"},e=o(`<h2 id="下载" tabindex="-1">下载 <a class="header-anchor" href="#下载" aria-label="Permalink to &quot;下载&quot;">​</a></h2><blockquote><p>官网地址</p></blockquote><ul><li><a href="https://www.mongodb.com/download-center#atlas" target="_blank" rel="noreferrer">https://www.mongodb.com/download-center#atlas</a></li></ul><blockquote><p>我下的版本</p></blockquote><ul><li>curl -O <a href="https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-4.0.0.tgz" target="_blank" rel="noreferrer">https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-4.0.0.tgz</a></li></ul><h2 id="解压存放" tabindex="-1">解压存放 <a class="header-anchor" href="#解压存放" aria-label="Permalink to &quot;解压存放&quot;">​</a></h2><blockquote><p>我的存放位置 /usr/local/mongose</p></blockquote><ul><li>cp -r mongodb-linux-x86_64-rhel62-4.0.0.tgz /usr/local/mongose</li></ul><blockquote><p>解压</p></blockquote><ul><li>tar -zxvf mongodb-linux-x86_64-rhel62-4.0.0.tgz</li></ul><h2 id="配置全局变量" tabindex="-1">配置全局变量 <a class="header-anchor" href="#配置全局变量" aria-label="Permalink to &quot;配置全局变量&quot;">​</a></h2><ul><li>vi /etc/profile</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> MONGODB_HOME</span><span style="color:#89DDFF;">=/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">local</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">mongose</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> PATH</span><span style="color:#89DDFF;">=</span><span style="color:#FFCB6B;">$PATH</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">$MONGODB_HOME</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">bin</span></span>
<span class="line"></span></code></pre></div><blockquote><p>保存后，重启系统配置</p></blockquote><ul><li>source /etc/profile</li></ul><h2 id="mongodb-启动配置" tabindex="-1">mongodb 启动配置 <a class="header-anchor" href="#mongodb-启动配置" aria-label="Permalink to &quot;mongodb 启动配置&quot;">​</a></h2><ul><li><p>cd /usr/local/mongose/bin</p></li><li><p>vi mongodb.conf</p></li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">dbpath </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">local</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">mongodb</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">db #数据文件存放目录</span></span>
<span class="line"><span style="color:#A6ACCD;">logpath </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">local</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">mongodb</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">logs</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">mongodb</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">log #日志文件存放目录</span></span>
<span class="line"><span style="color:#A6ACCD;">port </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">27017</span><span style="color:#A6ACCD;">  #端口</span></span>
<span class="line"><span style="color:#A6ACCD;">fork </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">  #以守护程序的方式启用，即在后台运行</span></span>
<span class="line"></span></code></pre></div><h2 id="启动数据库" tabindex="-1">启动数据库 <a class="header-anchor" href="#启动数据库" aria-label="Permalink to &quot;启动数据库&quot;">​</a></h2><ul><li>./mongod -f mongodb.conf</li></ul><h2 id="进入数据库" tabindex="-1">进入数据库 <a class="header-anchor" href="#进入数据库" aria-label="Permalink to &quot;进入数据库&quot;">​</a></h2><ul><li>./mongo</li></ul><h2 id="mongodb-开机启动" tabindex="-1">mongodb 开机启动 <a class="header-anchor" href="#mongodb-开机启动" aria-label="Permalink to &quot;mongodb 开机启动&quot;">​</a></h2><ul><li><p>cd /lib/systemd/system</p></li><li><p>vi mongodb.service</p></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">[Unit]</span></span>
<span class="line"><span style="color:#A6ACCD;">Description=mongodb</span></span>
<span class="line"><span style="color:#A6ACCD;">After=network.target remote-fs.target nss-lookup.target</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[Service]</span></span>
<span class="line"><span style="color:#A6ACCD;">Type=forking</span></span>
<span class="line"><span style="color:#A6ACCD;">ExecStart=/usr/local/mongose/bin/mongod --config /usr/local/mongodb/bin/mongodb.conf</span></span>
<span class="line"><span style="color:#A6ACCD;">ExecReload=/bin/kill -s HUP $MAINPID</span></span>
<span class="line"><span style="color:#A6ACCD;">ExecStop=/usr/local/mongose/bin/mongod --shutdown --config /usr/local/mongodb/bin/mongodb.conf</span></span>
<span class="line"><span style="color:#A6ACCD;">PrivateTmp=true</span></span>
<span class="line"><span style="color:#A6ACCD;">bind_ip = 0.0.0.0</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[Install]</span></span>
<span class="line"><span style="color:#A6ACCD;">WantedBy=multi-user.target</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p>赋值权限</p></blockquote><ul><li>chmod 754 mongodb.service</li></ul><h2 id="启动命令" tabindex="-1">启动命令 <a class="header-anchor" href="#启动命令" aria-label="Permalink to &quot;启动命令&quot;">​</a></h2><h4 id="启动服务" tabindex="-1">启动服务 <a class="header-anchor" href="#启动服务" aria-label="Permalink to &quot;启动服务&quot;">​</a></h4><ul><li>systemctl start mongodb.service</li></ul><h4 id="关闭服务" tabindex="-1">关闭服务 <a class="header-anchor" href="#关闭服务" aria-label="Permalink to &quot;关闭服务&quot;">​</a></h4><ul><li>systemctl stop mongodb.service</li></ul><h4 id="开机启动" tabindex="-1">开机启动 <a class="header-anchor" href="#开机启动" aria-label="Permalink to &quot;开机启动&quot;">​</a></h4><ul><li>systemctl enable mongodb.service</li></ul><h2 id="可视化操作工具" tabindex="-1">可视化操作工具 <a class="header-anchor" href="#可视化操作工具" aria-label="Permalink to &quot;可视化操作工具&quot;">​</a></h2><ul><li><a href="https://robomongo.org/download" target="_blank" rel="noreferrer">https://robomongo.org/download</a></li></ul><h2 id="关闭" tabindex="-1">关闭 <a class="header-anchor" href="#关闭" aria-label="Permalink to &quot;关闭&quot;">​</a></h2><blockquote><p><a href="https://www.cnblogs.com/joshua317/articles/5190385.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/joshua317/articles/5190385.html</a></p></blockquote>`,38),t=[e];function p(r,c,i,d,u,h){return l(),s("div",null,t)}const A=a(n,[["render",p]]);export{b as __pageData,A as default};
