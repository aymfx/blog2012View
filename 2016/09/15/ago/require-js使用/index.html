<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <title>require.js使用 | Aymfx&#39;s Blog</title>
  
  <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1408911_ujc2i49ntb.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
  <link rel="stylesheet" href="/blog2012View/css/style.css">
</head>
  <body>
    <div class='container'>
      <header id="header">
  <section class='header-main'>
    <div class='outer'>
        <a href="/blog2012View/" class="logo">Aymfx's Blog</a> 
      <nav class="navbar">
        
        <a href="/blog2012View/" class="menu-item-link">首页</a>
        
        <a href="/blog2012View/archives" class="menu-item-link">归档</a>
        
        <a href="/blog2012View/tags" class="menu-item-link">标签</a>
        
        <a href="/blog2012View/about" class="menu-item-link">关于我</a>
        
        <a href="/blog2012View/photos" class="menu-item-link">相册</a>
        
        <a href="https://github.com/aymfx" class="menu-item-link">交友</a>
        
      </nav>
    </div>
  </section>
</header>
    <main class="main">
      <div class='post-detail'>
    <div id="toc" class='left'>
    <h4>
        文章目录
    </h4>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#问题：如何解决前端js出现的文件依赖和命名空间问题"><span class="toc-text">问题：如何解决前端js出现的文件依赖和命名空间问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#requirejs能带来什么好处"><span class="toc-text">requirejs能带来什么好处</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#掌握模块化的思想"><span class="toc-text">掌握模块化的思想</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AMD-require-js-和CMD-sea-js-规范"><span class="toc-text">AMD(require.js)和CMD(sea.js)规范</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#引用require-js"><span class="toc-text">引用require.js</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#加载文件（加载服务器文件）"><span class="toc-text">加载文件（加载服务器文件）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#其实当我们在data-main-“js-main”这样设定其实相当于："><span class="toc-text">其实当我们在data-main=“js/main”这样设定其实相当于：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#引入第三方模块"><span class="toc-text">引入第三方模块</span></a></li></ol></li></ol></li></ol>
</div>
    <article class="post-detail animated slideInDown right">
        <div class="post-title">
          <h2 class="title">require.js使用</h2>
        </div>
         <div class="post-meta"> 
          <i class='iconfont iconriqi'></i>
          <span class="post-time">2016-09-15</span>
        </div>
        <div class="article-container">
          <blockquote>
<p>require.js使用</p>
</blockquote>
<a id="more"></a>   

<h1 id="问题：如何解决前端js出现的文件依赖和命名空间问题"><a href="#问题：如何解决前端js出现的文件依赖和命名空间问题" class="headerlink" title="问题：如何解决前端js出现的文件依赖和命名空间问题"></a>问题：如何解决前端js出现的文件依赖和命名空间问题</h1><pre><code>可以通过命名空间和采用模块化的方式解决，今天学的require.js可以同时解决这两个问题.</code></pre><h1 id="requirejs能带来什么好处"><a href="#requirejs能带来什么好处" class="headerlink" title="requirejs能带来什么好处"></a>requirejs能带来什么好处</h1><pre><code>1.异步加载，防止js加载阻塞页面渲染
2.不必引用很多js文件
3.以上两个问题可以解决</code></pre><h1 id="掌握模块化的思想"><a href="#掌握模块化的思想" class="headerlink" title="掌握模块化的思想"></a>掌握模块化的思想</h1><pre><code>模块化思想就是指将页面根据内容的关联性分解成不同的且相互独立的模块进行开发，每个模块之间没有必然的联系，互不影响。
模块化思想的主要优势就体现在：提高重用性，提高开发效率，降低维护成本，提升代码质量等方面。</code></pre><h1 id="AMD-require-js-和CMD-sea-js-规范"><a href="#AMD-require-js-和CMD-sea-js-规范" class="headerlink" title="AMD(require.js)和CMD(sea.js)规范"></a>AMD(require.js)和CMD(sea.js)规范</h1><pre><code>AMD是&quot;Asynchronous Module Definition&quot;的缩写，意思就是&quot;异步模块定义&quot;。它采用异步方式加载模块，模块的加载不影响它后面语句的运行。所有依赖这个模块的语句，都定义在一个回调函数中，等到加载完成之后，这个回调函数才会运行。
CMD规范，全称”Common Module Definition”，称为 通用模块加载规范 。一般也是用在浏览器端。浏览器端异步加载库Sea.js实现的就是CMD规范。在CMD规范中，一个模块就是一个文件。</code></pre><h1 id="引用require-js"><a href="#引用require-js" class="headerlink" title="引用require.js"></a>引用require.js</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;script data-main=<span class="string">"main.js"</span> src=<span class="string">"js/require.js"</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"> data-main:指定网页程序的主模块,意思是整个网页的入口代码,所有代码都从这儿开始运行.以后不用再引入js代码了，由于require.js默认的文件后缀名是js，所以可以把main.js简写成main。当我们在里面写了路径之后，以后引入js目录下面的直接写文件名不加后缀，否则不仅要加后缀还要加文件路径</span><br><span class="line"> require.js：引入模块</span><br><span class="line"> 下载地址：http://requirejs.org/docs/release/2.3.3/minified/require.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 主程序入口（主模块main.js）</span></span><br><span class="line"><span class="comment">## 测试是否引入成功</span></span><br><span class="line">![一如](http://img.blog.csdn.net/20170306193718505?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjkxMDQ5OTk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)</span><br><span class="line">	</span><br><span class="line"><span class="comment">## 调用模块写法（放在mian.js中）</span></span><br><span class="line"></span><br><span class="line">​``` bash</span><br><span class="line">require([],<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	alert(1);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">require 调用模块，接收二个参数。</span><br><span class="line">第1个参数是一个数组，表示所依赖的模块 (也就是js了) ；</span><br><span class="line">第2个参数是一个回调函数，当前面指定的模块都加载成功后，它将被调用。</span><br><span class="line"></span><br><span class="line"><span class="comment">## 依赖模块写法（独立单独的js--module.js）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">define([],<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">		alert(1);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 在入口函数添加依赖(main.js)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main.js</span><br><span class="line">	require([<span class="string">"js/module1.js"</span>,<span class="string">"js/module2.js"</span>],<span class="keyword">function</span>(m1)&#123;</span><br><span class="line">		   alert(<span class="string">"我是入口函数"</span>);</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">module1.js</span><br><span class="line">	define([],<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	alert(<span class="string">"我是模块一"</span>);</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">module.js</span><br><span class="line">	define([],<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">		 alert(<span class="string">"我是模块2"</span>);</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>

<pre><code>结果：我是模块一  我是模块2   我是入口函数
小结：由于依赖模块是异步的，所以必须先执行完，才能调用回调函数,两个依赖的顺序出现不一定按顺序来</code></pre><h2 id="加载文件（加载服务器文件）"><a href="#加载文件（加载服务器文件）" class="headerlink" title="加载文件（加载服务器文件）"></a>加载文件（加载服务器文件）</h2><p>//引入jquery</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">require.config(&#123;</span><br><span class="line">	  paths:&#123;</span><br><span class="line">	  	<span class="string">"jquery"</span>:[<span class="string">"http://libs.baidu.com/jquery/2.0.3/jquery"</span>]//可引入多个</span><br><span class="line">	  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">require([<span class="string">"js/module1.js"</span>,<span class="string">"js/module2.js"</span>],<span class="keyword">function</span>(m1)&#123;</span><br><span class="line">	   alert(<span class="string">"我是入口函数"</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">require([<span class="string">"jquery"</span>],<span class="keyword">function</span>($)&#123;</span><br><span class="line">		console.log(typeof $);//<span class="keyword">function</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="其实当我们在data-main-“js-main”这样设定其实相当于："><a href="#其实当我们在data-main-“js-main”这样设定其实相当于：" class="headerlink" title="其实当我们在data-main=“js/main”这样设定其实相当于："></a>其实当我们在data-main=“js/main”这样设定其实相当于：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">	require.config(&#123;</span><br><span class="line">    baseUrl : <span class="string">"js"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="引入第三方模块"><a href="#引入第三方模块" class="headerlink" title="引入第三方模块"></a>引入第三方模块</h3><pre><code>暂时没学，回头补充

补充：主模块的依赖模块是[&apos;jquery&apos;, &apos;module1&apos;, &apos;module2&apos;]。默认情况下，require.js假定这三个模块与main.js在同一个目录，文件名分别为 jquery.js，module1.js和module2.js，然后自动加载。</code></pre> 
        </div> 
      </article> 
</div>



    </main>
    </div>
  </body>
</html>